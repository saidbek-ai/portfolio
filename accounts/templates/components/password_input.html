
{% with id=input_data.id_for_label|default:'password' %}
<div class="space-y-1">
  <label for="{{ id }}" class="block text-sm font-medium text-gray-700 dark:text-gray-300">
    {{ label|default:"Password" }}
  </label>

  <div class="relative">
    <input
      type="password"
      name="{{ input_data.name|default:'password' }}"
      id="{{ id }}"
      placeholder="••••••••"
      required
      class="w-full px-4 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2
        {% if input_data.errors %}
          border-red-500 focus:ring-red-500
        {% else %}
          border-gray-300 dark:border-gray-600 focus:ring-blue-500 focus:border-blue-500
        {% endif %}
        text-base pr-10 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition duration-200"
    />

    <!-- Toggle visibility button -->
    <button
      type="button"
      class="absolute inset-y-0 right-0 flex items-center px-3 text-gray-400 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-200 transition"
      onclick="togglePassword('{{ id }}', this)"
      aria-label="Toggle password visibility"
    >
      <!-- Default (eye open) -->
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="20" height="20">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M2.458 12C3.732 7.943 7.523 5 12 5
            c4.478 0 8.268 2.943 9.542 7
            -1.274 4.057-5.064 7-9.542 7
            -4.477 0-8.268-2.943-9.542-7z" />
      </svg>
    </button>
  </div>

  {% if input_data.errors %}
  <div class="mt-1 text-xs font-medium text-red-600 dark:text-red-400 space-y-0">
    {% for error in input_data.errors %}
      <p>{{ error }}</p>
    {% endfor %}
  </div>
  {% endif %}
</div>
{% endwith %}


<script>
  function togglePassword(id, btn) {
    const input = document.getElementById(id);
    const isPassword = input.type === 'password';
    
    input.type = isPassword ? 'text' : 'password';

    btn.innerHTML = isPassword
      ? `<svg xmlns="http://www.w3.org/2000/svg" fill="none"
          viewBox="0 0 24 24" stroke="currentColor" width="20" height="20">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M3 3l18 18M10.58 10.58a2 2 0 102.84 2.84M9.88 9.88A3 3 0 1014.12 14.12
               M12 5c4.478 0 8.268 2.943 9.542 7
               a9.958 9.958 0 01-1.316 2.732
               m-2.356 2.718A9.956 9.956 0 0112 19
               c-4.477 0-8.268-2.943-9.542-7
               a9.956 9.956 0 012.187-3.366" />
        </svg>`
      : `<svg xmlns="http://www.w3.org/2000/svg" fill="none"
          viewBox="0 0 24 24" stroke="currentColor" width="20" height="20">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M2.458 12C3.732 7.943 7.523 5 12 5
               c4.478 0 8.268 2.943 9.542 7
               -1.274 4.057-5.064 7-9.542 7
               -4.477 0-8.268-2.943-9.542-7z" />
        </svg>`;
  }
</script>

