{% extends "account/base_auth_layout.html" %}
{% load static %}
{% block content %}


<div
  class="w-full max-w-md lg:max-w-xl bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-8 md:p-10 transition-all duration-300"
>

  <!--Invalid Token-->
  {% if token_fail  %}
  <div
    class="bg-red-100 dark:bg-red-900/40 border border-red-400 dark:border-red-600 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg text-sm mb-6"
    role="alert"
  >
    <p class="font-bold">Invalid Reset Link</p>
    <p>This password reset link is invalid or has expired. Please try requesting a new one.</p>
  </div>

  <a
    href="/"
    class="flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-md text-lg font-semibold text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-900 focus:ring-blue-500 transition duration-150 transform hover:scale-[1.01]"
  >
    Go to Home Page
  </a>
  {% else %}

  <!-- Password Reset Form -->

  <div class="text-center mb-8">
    <h1 class="text-4xl font-extrabold text-gray-900 dark:text-white mb-2">
      Set Your New Password
    </h1>
    <p class="text-gray-500 dark:text-gray-400">
      Enter and confirm a strong, new password below.
    </p>
  </div>

  

  <form method="post" action="" class="space-y-6">
    {% csrf_token %}

    {% comment %} {{form.errors.password1}}
    {{form.errors.password2}}
    {{form.errors}}

    {{form.password1.name}}
    {{form.password1.id_for_label}}
    {{form.password2.name}} {% endcomment %}
    

    {% if form.errors %}
    <div
      class="bg-red-100 dark:bg-red-900/40 border border-red-400 dark:border-red-600 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg text-sm"
      role="alert"
    >
      Please correct the errors in the password fields.
    </div>
    {% endif %}

    <!-- New Password Field -->
     {% include "components/password_input.html" with label="New Password" input_data=form.password1  %}

    <!-- Confirmation Password Field -->
     {% include "components/password_input.html" with label="Confirm New Password" input_data=form.password2 %}


    <!-- Submit Button -->
    <div class="pt-2">
      <button
        type="submit"
        class="w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-md text-lg font-semibold text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-900 focus:ring-blue-500 transition duration-150 transform hover:scale-[1.01]"
      >
        Change Password
      </button>
    </div>
  </form>
  {% endif %}

  <!-- Support Link -->
  <div class="mt-8 text-center">
    <p class="text-sm text-gray-600 dark:text-gray-400">
      Need help?
      <a
        href="#"
        class="font-medium text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300 transition duration-150"
      >
        Contact support
      </a>
    </p>
  </div>
</div>

{% endblock content %}
