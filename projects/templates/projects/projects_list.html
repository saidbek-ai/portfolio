{% extends "layout.html" %}
{% block title %}Projects | Saidbek Khudayberdiev{% endblock title %}

{% load static %}
{% load i18n %}

{% block meta %}
  <!-- Primary Meta Tags -->
  <meta name="description" content="Explore all my latest web development projects, applications, and innovative systems built with modern technologies.">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="{{ request.build_absolute_uri|cut:'?'|cut:'#' }}" />

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="All Projects | Saidbek Khudayberdiev">
  <meta property="og:description" content="Browse my latest portfolio projects showcasing advanced web applications and creative development solutions.">
  <meta property="og:url" content="{{ request.build_absolute_uri }}" />
  <meta property="og:site_name" content="Saidbek Khudayberdiev Portfolio" />
  <meta property="og:image" content="{{ request.scheme }}://{{ request.get_host }}{% static 'images/og-default.jpg' %}" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="All Projects | Saidbek Khudayberdiev">
  <meta name="twitter:description" content="Discover all my portfolio projects in web development, app design, and digital systems.">
  <meta name="twitter:image" content="{{ request.scheme }}://{{ request.get_host }}{% static 'images/og-default.jpg' %}">

  <!-- Structured Data -->
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "Projects | Saidbek Khudayberdiev",
      "description": "Explore my latest portfolio projects, apps, and creative web development solutions.",
      "url": "{{ request.build_absolute_uri|cut:'?'|cut:'#' }}",
      "publisher": {
        "@type": "Organization",
        "name": "Saidbek Khudayberdiev Portfolio",
        "logo": {
          "@type": "ImageObject",
          "url": "{{ request.scheme }}://{{ request.get_host }}{% static 'images/logo-wolf.svg' %}"
        }
      }
    }
  </script>
{% endblock meta %}

{% block content %}
<section
  id="projects"
  class="bg-gray-50 dark:bg-gray-900 py-24 px-6 transition-colors duration-300"
>
  <div class="max-w-6xl mx-auto">
    <h2 class="text-4xl font-bold text-center text-gray-900 dark:text-white mb-12">
      <span class="text-blue-600">All</span> Projects
    </h2>

    <!-- Search Form -->
    <form method="GET" action="" class="mb-12 max-w-xl mx-auto">
      <div class="flex">
        <input
          type="text"
          name="q"
          placeholder="Search projects..."
          value="{{ query|default_if_none:'' }}"
          class="w-full px-4 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white focus:outline-none focus:ring-1 focus:ring-blue-600"
        />
        <button
          type="submit"
          class="px-4 py-2 bg-blue-600 text-white rounded-r-md hover:bg-blue-700 transition"
        >
          Search
        </button>
      </div>
    </form>

    <!-- Project Grid -->
    <div class="grid gap-8 lg:grid-cols-3 sm:grid-cols-2 grid-cols-1">
      {% for project in projects %}
        {% include "projects/project_card.html" with project=project %}
      {% empty %}
        <p class="text-center text-gray-500 dark:text-gray-400 col-span-full">
          No projects found.
        </p>
      {% endfor %}
    </div>
  </div>
</section>
{% endblock content %}
